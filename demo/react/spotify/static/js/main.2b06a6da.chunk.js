(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){},47:function(e,t,n){e.exports=n(70)},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(23),o=n.n(s),i=n(7),c=n(17),l=n(44),u=n(16),d=n(8),p=Object(d.a)(),m=n(15),h=(n(56),function(){return r.a.createElement("div",{className:"menu"},r.a.createElement("ul",{className:"main"},r.a.createElement("li",null,r.a.createElement(m.a,{to:"/"},r.a.createElement("i",{className:"home icon"}),"\u9996\u9801"))),r.a.createElement("ul",{className:"lists"},r.a.createElement("li",{className:"title"},"\u4f60\u7684\u97f3\u6a02\u5eab"),r.a.createElement("li",null,r.a.createElement(m.a,{to:"/userplaylist"},"\u97f3\u6a02"))))}),g=n(2),f=n(3),v=n(5),y=n(4),S=n(6),E=(n(58),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(v.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={term:""},n.onChangeSearch=function(e){p.push("/search/".concat(e.target.value))},n}return Object(S.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"addressBar"},r.a.createElement("div",{className:"address"},r.a.createElement("div",{className:"back",onClick:p.goBack},r.a.createElement("i",{className:"angle left icon"})),r.a.createElement("div",{className:"forward",onClick:p.goForward},r.a.createElement("i",{className:"angle right icon"}))),r.a.createElement("input",{className:"search",placeholder:"\u641c\u5c0b",onChange:this.onChangeSearch}))}}]),t}(r.a.Component)),b=n(19),I=[{id:1,title:"\u4e0a\u4e0d\u4e0a\u73ed\u90fd\u8981\u627e\u6642\u9593\u653e\u9b06\u5594\uff01",collectionsID:[1,2]},{id:2,title:"\u5c08\u70ba Shine \u7cbe\u5fc3\u6253\u9020",description:"\u8d8a\u5e38\u807d\uff0c\u63a8\u85a6\u97f3\u6a02\u8d8a\u5c0d\u5473\uff01",collectionsID:[3,4]}],N=[{id:1,title:"\u611b\u7684\u56de\u61b6",coverImageURL:"lovesong.jpg",description:"\u95dc\u65bc\u611b\uff0c\u7121\u8ad6\u5c0d\u904e\u53bb\u9084\u6703\u4e0d\u6703\u52d5\u5fc3\uff0c\u5b83\u90fd\u662f\u4eba\u751f\u7684\u70d9\u5370\uff0c\u6240\u4ee5\u56de\u61b6\u7e3d\u662f\u9019\u6a23\u7684\u7121\u6cd5\u5272\u6368\uff0c\u6240\u4ee5\u6211\u5011\u7e3d\u662f\u4e0d\u81ea\u89ba\u7684\u53bb\u56de\u61b6\u3002",songs:[1,3,5]},{id:2,title:"\u53f0\u7063\u6d41\u884c\u6a02",coverImageURL:"popular.jpg",description:"\u5168\u53f0\u6700\u71b1\u9580\u7684\u6d41\u884c\u6b4c\u66f2\u6392\u884c\u3002",songs:[2,4,6]},{id:3,title:"\u6d88\u9664\u58d3\u529b",coverImageURL:"presure.jpg",description:"\u60f3\u7d13\u89e3\u7dca\u5f35\u58d3\u529b\uff0c\u5c31\u807d\u9019\u4e9b\u8f15\u9b06\u3001\u6109\u5feb\u7684\u6b4c\u66f2\u4f86\u8b93\u81ea\u5df1\u653e\u8f15\u9b06\u3002",songs:[7,9,11]},{id:4,title:"\u4e0a\u73ed\u8f15\u807d",coverImageURL:"office.jpg",description:"\u8b93\u597d\u807d\u7684\u83ef\u8a9e\u6d41\u884c\u97f3\u6a02\u4f34\u4f60\u5ea6\u904e\u4e00\u5929\u7684\u5de5\u4f5c\u6642\u5149\u5427\u3002",songs:[8,10,12]}],L=[{id:1,title:"Different World",coverImageURL:"DifferentWorld.jpg",artistID:1},{id:2,title:"On My Way",coverImageURL:"OnMyWay.jpg",artistID:1},{id:3,title:"Diamond Heart",coverImageURL:"DiamondHeart.jpg",artistID:1},{id:4,title:"anti",coverImageURL:"anti.jpg",artistID:2},{id:5,title:"Faith",coverImageURL:"Faith.jpg",artistID:2},{id:6,title:"\u81ea\u50b3",coverImageURL:"profile.jpg",artistID:3},{id:7,title:"\u5f8c\u9752\u6625\u671f\u7684\u8a69",coverImageURL:"young.jpg",artistID:3},{id:8,title:"\u96e2\u958b\u5730\u7403\u8868\u9762",coverImageURL:"earth.jpg",artistID:3},{id:9,title:"\u70ba\u611b\u800c\u751f",coverImageURL:"love.jpg",artistID:3}],C=[{id:1,title:"Intro",albumID:1,youtubeID:"asqelSYtDEA",duration:76},{id:2,title:"Lost Control",albumID:1,youtubeID:"RGw8_Xu4z7s",duration:219},{id:3,title:"I Don't Wanna Go",albumID:1,youtubeID:"SuUs3veS0Ck",duration:161},{id:4,title:"On My Way",albumID:2,youtubeID:"dhYOPzcsbGM",duration:216},{id:5,title:"Diamond Heart",albumID:3,youtubeID:"sJXZ9Dok7u8",duration:218},{id:7,title:"Red Swan",albumID:4,youtubeID:"r1XE8ON8fos",duration:269},{id:8,title:"ANOTHER MOMENT",albumID:4,youtubeID:"DMR6xqcm9Nw",duration:197},{id:9,title:"AFTER NIGHT",albumID:4,youtubeID:"pcSjLP0erjQ",duration:197},{id:10,title:"Jesus Christ",albumID:5,youtubeID:"nCh3r4hyEZ4",duration:256},{id:11,title:"Countdown",albumID:5,youtubeID:"mVBCjpNzoTA",duration:246},{id:12,title:"Made in Heaven",albumID:5,youtubeID:"31uB6Wp_2G8",duration:223},{id:13,title:"\u5982\u679c\u6211\u5011\u4e0d\u66fe\u76f8\u9047",albumID:6,youtubeID:"eZMH6Mo0f9A",duration:229},{id:14,title:"\u6210\u540d\u5728\u671b",albumID:6,youtubeID:"-hU1O3bG1eo",duration:318},{id:15,title:"\u5144\u5f1f",albumID:6,youtubeID:"TcXFY-_rDzQ",duration:343},{id:16,title:"\u7a81\u7136\u597d\u60f3\u4f60",albumID:7,youtubeID:"GtDRcXtDg-4",duration:286},{id:17,title:"\u751f\u5b58\u4ee5\u4e0a \u751f\u6d3b\u4ee5\u4e0b",albumID:7,youtubeID:"yEyPhn7eg_c",duration:281},{id:18,title:"\u4f60\u4e0d\u662f\u771f\u6b63\u7684\u5feb\u6a02",albumID:7,youtubeID:"hr8jWDyb1jg",duration:303},{id:19,title:"\u79c1\u5954\u5230\u6708\u7403",albumID:8,youtubeID:"IFTZtuXKzFs",duration:222},{id:20,title:"\u96e2\u958b\u5730\u7403\u8868\u9762",albumID:8,youtubeID:"d3JVkes8o4k",duration:291},{id:21,title:"To Find My Paradise",albumID:8,youtubeID:"XxWFTm4VlRI",duration:331},{id:22,title:"\u524d\u50b3",albumID:9,youtubeID:"HNPl9nGqcII",duration:45}],D=[{id:1,name:"Alan Walker",coverImageURL:"AlanWalker.jpg"},{id:2,name:"HYDE",coverImageURL:"HYDE.jpg"},{id:3,name:"\u4e94\u6708\u5929",coverImageURL:"mayday.jpg"}],k=n(31),O=n.n(k),j=function(e){return{type:"SELECT_SONG",payload:e}},R=function(){return{type:"SONG_PLAY"}},P=function(){return{type:"SONG_PAUSE"}},A=function(e){return{type:"ADD_SONG",payload:e}},w=function(e){return{type:"REMOVE_SONG",payload:e}},M="http://localhost:3002",T=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(f.a)(t,[{key:"renderCoverSrc",value:function(){return this.props.album.songs?"".concat(M,"/images/collection/").concat(this.props.album.coverImageURL):"".concat(M,"/images/album/").concat(this.props.album.coverImageURL)}},{key:"render",value:function(){var e=this.props.album,t=e.id,n=e.title,a=e.description;return r.a.createElement("div",{className:"album"},r.a.createElement(m.a,{to:"/playList/".concat(this.props.type,"/").concat(t)},r.a.createElement("img",{className:"cover",src:this.renderCoverSrc()})),r.a.createElement("div",{className:"title"},n),r.a.createElement("div",{className:"description"},a))}}]),t}(r.a.Component),U=(n(60),function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.selectCollectionsList(),this.props.selectAlbums()}},{key:"renderCollectionsList",value:function(){var e=this;return this.props.collectionsList.map(function(t){return r.a.createElement("div",{className:"collection",key:t.id},r.a.createElement("h2",null,t.title),e.renderCollections(t.collections))})}},{key:"renderCollections",value:function(e){return e.map(function(e){return r.a.createElement(T,{album:e,type:"collection",key:e.id})})}},{key:"renderAlbums",value:function(){return this.props.albums.map(function(e){return r.a.createElement(T,{album:e,type:"album",key:e.id})})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"\u9996\u9801"),this.renderCollectionsList(),r.a.createElement("div",{className:"collection"},r.a.createElement("h2",null,"\u5c08\u8f2f"),this.renderAlbums()))}}]),t}(r.a.Component)),_=Object(i.b)(function(e){return{collectionsList:e.collectionsList,albums:e.albums}},{selectCollectionsList:function(){return console.log(I),I.forEach(function(e){var t=[];e.collectionsID.forEach(function(e){var n=N.find(function(t){return t.id===e});t.push(n)}),e.collections=t}),{type:"SELECT_COLLECTIONS_LIST",payload:I}},selectAlbums:function(){return{type:"SELECT_ALBUMS",payload:L}}})(U),B=(n(61),function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(v.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).onPlayClick=function(){n.props.currentSong?n.props.currentPlayList.songs.find(function(e){return e.id===n.props.currentSong.id})?"play"===n.props.currentSongStatus?n.props.songPause():n.props.songPlay():(n.props.selectSong(n.props.currentPlayList.songs[0]),n.props.songPlay()):(n.props.selectSong(n.props.currentPlayList.songs[0]),n.props.songPlay())},n}return Object(S.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"buttons"},r.a.createElement("div",{className:"play",onClick:this.onPlayClick},"play"===this.props.currentSongStatus?"\u66ab\u505c":"\u64ad\u653e"))}}]),t}(r.a.Component)),G=Object(i.b)(function(e){return{currentSongStatus:e.currentSongStatus,currentPlayList:e.currentPlayList,currentSong:e.currentSong}},{selectSong:j,songPlay:R,songPause:P})(B),V=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(v.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).onPlayClick=function(){n.props.selectSong(n.props.song),n.props.changeMainStatus(n.props.mainStatus),n.props.songPlay()},n.onAddClick=function(){n.props.addSongs.find(function(e){return e.id===n.props.song.id})?n.props.removeSong(n.props.song):n.props.addSong(n.props.song)},n}return Object(S.a)(t,e),Object(f.a)(t,[{key:"renderSelectClass",value:function(){return void 0!=this.props.currentSong&&this.props.currentSong.id===this.props.song.id?"select":null}},{key:"renderDuration",value:function(){var e={};return e.hours=Math.floor(this.props.song.duration/60/60),e.minute=Math.floor((this.props.song.duration-60*e.hours*60)/60),e.second=Math.floor(this.props.song.duration-60*e.minute-60*e.hours*60),"".concat(0===e.hours?"":e.hours+":"," ").concat(e.minute," : ").concat(String(e.second).padStart(2,"0"))}},{key:"renderPlayBtnClass",value:function(){return"select"===this.renderSelectClass()&&"play"===this.props.currentSongStatus?"pause":"play"}},{key:"renderAddBtnClass",value:function(){var e=this;return this.props.addSongs.find(function(t){return t.id===e.props.song.id})?"check":"plus"}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("li",{className:this.renderSelectClass()},r.a.createElement("div",{className:"playBtn",onClick:this.onPlayClick},r.a.createElement("i",{className:"volume up icon"}),r.a.createElement("i",{className:"".concat(this.renderPlayBtnClass()," icon")})),r.a.createElement("div",{className:"addBtn",onClick:this.onAddClick},r.a.createElement("i",{className:"".concat(this.renderAddBtnClass()," icon")})),r.a.createElement("div",{className:"title"},this.props.song.title),r.a.createElement("div",{className:"artist"},this.props.song.artist.name),r.a.createElement("div",{className:"album"},this.props.song.album.title),r.a.createElement("div",{className:"duration"},this.renderDuration()))}}]),t}(r.a.Component),F=Object(i.b)(function(e){return{currentSong:e.currentSong,addSongs:e.addSongs,currentSongStatus:e.currentSongStatus}},{selectSong:j,changeMainStatus:function(e){return{type:"CHANGE_MAIN_STATUS",payload:e}},songPlay:R,addSong:A,removeSong:w})(V),W=(n(36),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(y.a)(t).call(this,e))).filterSongs=function(e){n.setState({filterValue:e.target.value});var t=[];t=n.props.currentPlayList.songs,e&&(t=t.filter(function(t){if(t.title.toLowerCase().includes(e.target.value.toLowerCase()))return t})),n.setState({renderSongs:t})},n.state={renderSongs:[],filterValue:""},n}return Object(S.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.selectPlayList({type:this.props.match.params.type,id:this.props.match.params.id})}},{key:"componentDidUpdate",value:function(e){e.match.url!==this.props.match.url&&this.props.selectPlayList({type:this.props.match.params.type,id:this.props.match.params.id})}},{key:"renderTotalDuration",value:function(){var e=0;this.props.currentPlayList.songs.map(function(t){e+=t.duration});var t={};return t.hours=Math.floor(e/60/60),t.minute=Math.floor((e-60*t.hours*60)/60),t.second=Math.floor(e-60*t.minute-60*t.hours*60),"".concat(t.hours," \u6642 ").concat(String(t.minute).padStart(2,"0")," \u5206")}},{key:"renderSongs",value:function(){return 0!==this.state.renderSongs.length||this.state.filterValue?this.state.renderSongs.map(function(e){if(e)return r.a.createElement(F,{song:e,mainStatus:"playlist",key:e.id})}):this.props.currentPlayList.songs.map(function(e){if(e)return r.a.createElement(F,{song:e,mainStatus:"playlist",key:e.id})})}},{key:"render",value:function(){return this.props.currentPlayList?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"cover",src:"".concat(M,"/images/").concat(this.props.match.params.type,"/").concat(this.props.currentPlayList.coverImageURL)}),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"type"},"collection"===this.props.match.params.type?"\u64ad\u653e\u5217\u8868":"\u5c08\u8f2f"),r.a.createElement("div",{className:"title"},this.props.currentPlayList.title),r.a.createElement("div",{className:"description"},this.props.currentPlayList.description),r.a.createElement("div",{className:"info"},"\u5efa\u7acb\u8005\uff1a",r.a.createElement("span",null,this.props.currentPlayList.artist.name),"\u30fb",r.a.createElement("span",null,this.props.currentPlayList.songs.length),"\u9996\u6b4c\u66f2,",r.a.createElement("span",null,this.renderTotalDuration())),r.a.createElement(G,null))),r.a.createElement("div",{className:"search"},r.a.createElement("i",{className:"search icon"}),r.a.createElement("input",{placeholder:"\u7be9\u9078",onChange:this.filterSongs})),r.a.createElement("ul",{className:"playlist"},r.a.createElement("li",{className:"header"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null,"\u6a19\u984c"),r.a.createElement("div",null,"\u85dd\u4eba"),r.a.createElement("div",null,"\u5c08\u8f2f"),r.a.createElement("div",null,"\u66f2\u9577")),this.renderSongs())):r.a.createElement(r.a.Fragment,null,"Loading...")}}]),t}(r.a.Component)),Y=Object(i.b)(function(e){return{currentPlayList:e.currentPlayList,addSongs:e.addSongs}},{selectPlayList:function(e){var t=e.type,n=e.id;return function(e,a){n=parseInt(n),console.log(t);var r={};if("collection"===t){r=N.find(function(e){return e.id===n});var s=[];r.songs.forEach(function(e){var t=C.find(function(t){return t.id===e&&t});t&&s.push(t)}),r.songs=s,r.artist="spotify"}else if("album"===t)(r=L.find(function(e){return e.id===n})).songs=C.filter(function(e){return e.albumID===r.id}),r.artist=D.find(function(e){return e.id===r.artistID});else if("artist"===t){(r=D.find(function(e){return e.id===n})).artist=r,r.title=r.name;var o=L.filter(function(e){return e.artistID===r.id});r.songs=[],o.forEach(function(e){C.forEach(function(t){t.albumID===e.id&&r.songs.push(t)})})}else r.songs=a().addSongs;"user"!==t&&r.songs.forEach(function(e){e.album=L.find(function(t){return t.id===e.albumID}),e.artist=D.find(function(t){return t.id===e.album.artistID})}),console.log(r),e({type:"SELECT_PLAY_LIST",payload:r})}}})(W),H=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(y.a)(t).call(this,e))).filterSongs=function(e){n.setState({filterValue:e.target.value});var t=[];t=n.props.addSongs.songs,e&&(t=t.filter(function(t){if(t.title.toLowerCase().includes(e.target.value.toLowerCase()))return t})),n.setState({renderSongs:t})},n.state={renderSongs:[],filterValue:""},n}return Object(S.a)(t,e),Object(f.a)(t,[{key:"renderTotalDuration",value:function(){var e=0;this.props.addSongs.map(function(t){e+=t.duration});var t={};return t.hours=Math.floor(e/60/60),t.minute=Math.floor((e-60*t.hours*60)/60),t.second=Math.floor(e-60*t.minute-60*t.hours*60),"".concat(t.hours," \u6642 ").concat(String(t.minute).padStart(2,"0")," \u5206")}},{key:"renderSongs",value:function(){return 0!==this.state.renderSongs.length||this.state.filterValue?this.state.renderSongs.map(function(e){if(e)return r.a.createElement(F,{song:e,mainStatus:"userplaylist",key:e.id})}):this.props.addSongs.map(function(e){if(e)return r.a.createElement(F,{song:e,mainStatus:"userplaylist",key:e.id})})}},{key:"render",value:function(){return this.props.addSongs?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},"\u6b4c\u66f2"),r.a.createElement(G,null))),r.a.createElement("div",{className:"search"},r.a.createElement("i",{className:"search icon"}),r.a.createElement("input",{placeholder:"\u7be9\u9078",onChange:this.filterSongs})),r.a.createElement("ul",{className:"playlist"},r.a.createElement("li",{className:"header"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null,"\u6a19\u984c"),r.a.createElement("div",null,"\u85dd\u4eba"),r.a.createElement("div",null,"\u5c08\u8f2f"),r.a.createElement("div",null,"\u66f2\u9577")),this.renderSongs())):r.a.createElement(r.a.Fragment,null,"Loading...")}}]),t}(r.a.Component),X=Object(i.b)(function(e){return{addSongs:e.addSongs}})(H),x=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(f.a)(t,[{key:"renderCoverSrc",value:function(){switch(this.props.type){case"song":return"".concat(M,"/images/album/").concat(this.props.data.album.coverImageURL);case"artist":return"".concat(M,"/images/artist/").concat(this.props.data.coverImageURL);case"album":return"".concat(M,"/images/album/").concat(this.props.data.coverImageURL);case"collection":return"".concat(M,"/images/collection/").concat(this.props.data.coverImageURL)}}},{key:"renderTitle",value:function(){switch(this.props.type){case"song":return this.props.data.title;case"artist":return this.props.data.name;case"album":case"collection":return this.props.data.title}}},{key:"renderArtist",value:function(){switch(this.props.type){case"song":case"album":return r.a.createElement("div",{className:"artist"},this.props.data.artist.name)}}},{key:"renderPlayList",value:function(){switch(this.props.type){case"song":return"album/".concat(this.props.data.album.id);case"artist":case"album":case"collection":return"".concat(this.props.type,"/").concat(this.props.data.id)}}},{key:"render",value:function(){return r.a.createElement(m.a,{to:"/playList/".concat(this.renderPlayList())},r.a.createElement("div",{className:"item"},r.a.createElement("img",{className:"cover",src:this.renderCoverSrc()}),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},this.renderTitle()),this.renderArtist())))}}]),t}(r.a.Component),z=(n(62),function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.props.search(this.props.match.params.value)}},{key:"componentDidUpdate",value:function(e){e.match.params.value!==this.props.match.params.value&&this.props.search(this.props.match.params.value)}},{key:"renderSearchSongs",value:function(){if(void 0!=this.props.searchResult.songs&&this.props.searchResult.songs.length>0){var e=this.props.searchResult.songs.map(function(e){return r.a.createElement(x,{data:e,type:"song",key:"song-".concat(e.id)})});return r.a.createElement("div",{className:"searchCatalog"},r.a.createElement("h2",null,"\u6b4c\u66f2"),e)}return null}},{key:"renderSearchArtists",value:function(){if(void 0!=this.props.searchResult.artists&&this.props.searchResult.artists.length>0){var e=this.props.searchResult.artists.map(function(e){return r.a.createElement(x,{data:e,type:"artist",key:"artist-".concat(e.id)})});return r.a.createElement("div",{className:"searchCatalog"},r.a.createElement("h2",null,"\u85dd\u4eba"),e)}return null}},{key:"renderSearchAlbums",value:function(){if(void 0!=this.props.searchResult.albums&&this.props.searchResult.albums.length>0){var e=this.props.searchResult.albums.map(function(e){return r.a.createElement(x,{data:e,type:"album",key:"album-".concat(e.id)})});return r.a.createElement("div",{className:"searchCatalog"},r.a.createElement("h2",null,"\u5c08\u8f2f"),e)}return null}},{key:"renderSearchCollections",value:function(){if(void 0!=this.props.searchResult.collections&&this.props.searchResult.collections.length>0){var e=this.props.searchResult.collections.map(function(e){return r.a.createElement(x,{data:e,type:"collection",key:"collection-".concat(e.id)})});return r.a.createElement("div",{className:"searchCatalog"},r.a.createElement("h2",null,"\u64ad\u653e\u5217\u8868"),e)}return null}},{key:"render",value:function(){return this.props.searchResult?r.a.createElement("div",{className:"searchWrap"},this.renderSearchSongs(),this.renderSearchArtists(),this.renderSearchAlbums(),this.renderSearchCollections()):r.a.createElement("div",{className:"searchWrap"},"Loading...")}}]),t}(r.a.Component)),J=Object(i.b)(function(e){return{searchResult:e.searchResult}},{search:function(e){var t=C.filter(function(t){return t.title.toLowerCase().includes(e.toLowerCase())}),n=L.filter(function(t){return t.title.toLowerCase().includes(e.toLowerCase())}),a=D.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())}),r=N.filter(function(t){return t.title.toLowerCase().includes(e.toLowerCase())});return a.forEach(function(e){var a=L.filter(function(t){var a=n.find(function(e){return e.id===t.id});return t.artistID===e.id&&!a});n.push.apply(n,Object(b.a)(a));var r=O.a.map(n,"id"),s=C.filter(function(e){var n=t.find(function(t){return t.id===e.id});return r.includes(e.albumID)&&!n});t.push.apply(t,Object(b.a)(s))}),t.forEach(function(e){e.album=L.find(function(t){return t.id===e.albumID}),e.artist=D.find(function(t){return t.id===e.album.artistID})}),n.forEach(function(e){e.artist=D.find(function(t){return t.id===e.artistID})}),console.log({songs:t,albums:n,artists:a,collections:r}),{type:"SEARCH",payload:{songs:t,albums:n,artists:a,collections:r}}}})(z),q=(n(63),function(){return r.a.createElement("div",{className:"main"},r.a.createElement(E,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:_}),r.a.createElement(u.a,{path:"/playlist/:type/:id",exact:!0,component:Y}),r.a.createElement(u.a,{path:"/userplaylist",exact:!0,component:X}),r.a.createElement(u.a,{path:"/search/:value",exact:!0,component:J})))}),Z=n(46),Q=n.n(Z),K=(n(69),function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(v.a)(this,Object(y.a)(t).call(this,e))).onYoutubeStart=function(){n.setState({durationInSeconds:n.videoRef.current.getDuration()})},n.onYoutubeProgress=function(e){n.setState({progress:n.formatTime(e.playedSeconds),progressInPercent:e.played,left:n.formatTime(n.state.durationInSeconds-e.playedSeconds)})},n.onYoutubeChangeStatus=function(){return"play"===n.props.currentSongStatus?r.a.createElement("i",{className:"pause icon"}):r.a.createElement("i",{className:"play icon"})},n.onPlayClick=function(){"play"===n.props.currentSongStatus?n.props.songPause():n.props.songPlay()},n.onForewardClick=function(){var e={},t="playlist"===n.props.currentMainStatus?n.props.currentPlayList.songs:n.props.addSongs;t.forEach(function(a,r,s){a.id===n.props.currentSong.id&&(e=r+1>=t.length?t[0]:t[r+1])}),n.props.selectSong(e)},n.onBackwardClick=function(){var e={},t="playlist"===n.props.currentMainStatus?n.props.currentPlayList.songs:n.props.addSongs;t.forEach(function(a,r,s){a.id===n.props.currentSong.id&&(e=r-1<0?t[t.length-1]:t[r-1])}),n.props.selectSong(e)},n.onSongLineClick=function(e){var t=e.nativeEvent.offsetX/n.songLineRef.current.clientWidth;n.videoRef.current.seekTo(n.state.durationInSeconds*t,"seconds")},n.onSoundLineClick=function(e){n.props.songVolume(e.nativeEvent.offsetX/n.soundLineRef.current.clientWidth)},n.onAddBtnClick=function(){n.props.addSongs.find(function(e){return e.id===n.props.currentSong.id})?n.props.removeSong(n.props.currentSong):n.props.addSong(n.props.currentSong)},n.state={progress:0,progressInPercent:0,left:0,durationInSeconds:0},n.videoRef=r.a.createRef(),n.songLineRef=r.a.createRef(),n.soundLineRef=r.a.createRef(),n}return Object(S.a)(t,e),Object(f.a)(t,[{key:"formatTime",value:function(e){var t={};return t.hours=Math.floor(e/60/60),t.minute=Math.floor((e-60*t.hours*60)/60),t.second=Math.floor(e-60*t.minute-60*t.hours*60),"".concat(0===t.hours?"":t.hours+":","\n                ").concat(t.minute,":\n                ").concat(String(t.second).padStart(2,"0"))}},{key:"renderAddBtnClass",value:function(){var e=this;return this.props.addSongs.find(function(t){return t.id===e.props.currentSong.id})?"check":"plus"}},{key:"getArtist",value:function(e){return this.props.artists.find(function(t,n,a){return t.id===e.artistID})}},{key:"getAlbumAndArtist",value:function(e){var t=this.props.albums.find(function(t,n,a){return t.id===e.albumID});return{album:t,artist:this.getArtist(t)}}},{key:"render",value:function(){return this.props.currentSong?r.a.createElement("div",{className:"controlBar"},r.a.createElement("div",{className:"left"},r.a.createElement("img",{className:"cover",src:"".concat(M,"/images/album/").concat(this.props.currentSong.album.coverImageURL)}),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"title"},this.props.currentSong.title),r.a.createElement("div",{className:"addBtn",onClick:this.onAddBtnClick},r.a.createElement("i",{className:"".concat(this.renderAddBtnClass()," icon")})),r.a.createElement("div",{className:"artist"},this.props.currentSong.artist.name))),r.a.createElement("div",{className:"center"},r.a.createElement(Q.a,{ref:this.videoRef,className:"youtube",url:"https://www.youtube.com/watch?v=".concat(this.props.currentSong.youtubeID),playing:"play"===this.props.currentSongStatus,volume:this.props.currentSongVolume,onStart:this.onYoutubeStart,onProgress:this.onYoutubeProgress,onEnded:this.onForewardClick}),r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"backwardBtn",onClick:this.onBackwardClick},r.a.createElement("i",{className:"step backward icon"})),r.a.createElement("div",{className:"playBtn",onClick:this.onPlayClick},this.onYoutubeChangeStatus()),r.a.createElement("div",{className:"forewardBtn",onClick:this.onForewardClick},r.a.createElement("i",{className:"step forward icon"}))),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"passedTime"},this.state.progress),r.a.createElement("div",{className:"line",ref:this.songLineRef,onClick:this.onSongLineClick},r.a.createElement("div",{style:{width:"".concat(100*this.state.progressInPercent,"%")}})),r.a.createElement("div",{className:"leftTime"},this.state.left))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"volumeBtn"},r.a.createElement("i",{className:"volume up icon"})),r.a.createElement("div",{className:"line",ref:this.soundLineRef,onClick:this.onSoundLineClick},r.a.createElement("div",{style:{width:"".concat(100*this.props.currentSongVolume,"%")}})))):r.a.createElement("div",{className:"controlBar",style:{display:"none"}})}}]),t}(r.a.Component)),$=Object(i.b)(function(e){return{currentSong:e.currentSong,currentPlayList:e.currentPlayList,currentSongStatus:e.currentSongStatus,currentSongVolume:e.songVolume,currentMainStatus:e.currentMainStatus,addSongs:e.addSongs}},{selectSong:j,songPlay:R,songPause:P,songVolume:function(e){return{type:"SONG_VOLUME",payload:e}},addSong:A,removeSong:w})(K),ee=function(){return r.a.createElement(u.b,{history:p},r.a.createElement(h,null),r.a.createElement(q,null),r.a.createElement($,null))},te=Object(c.c)({collectionsList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SELECT_COLLECTIONS_LIST"===t.type?t.payload:e},albums:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SELECT_ALBUMS"===t.type?t.payload:e},currentSong:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SELECT_SONG"===t.type?t.payload:e},currentMainStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_MAIN_STATUS"===t.type?t.payload:e},currentPlayList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SELECT_PLAY_LIST"===t.type?t.payload:e},currentSongStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pause";switch((arguments.length>1?arguments[1]:void 0).type){case"SONG_PLAY":return"play";case"SONG_PAUSE":return"pause";default:return e}},searchResult:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SEARCH"===t.type?t.payload:e},addSongs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"ADD_SONG"===t.type?e.find(function(e){return e.id===t.payload.id})?e:[].concat(Object(b.a)(e),[t.payload]):"REMOVE_SONG"===t.type?e.filter(function(e){return e.id!=t.payload.id}):e},songVolume:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,t=arguments.length>1?arguments[1]:void 0;return"SONG_VOLUME"===t.type?t.payload:e}}),ne=Object(c.d)(te,Object(c.a)(l.a));o.a.render(r.a.createElement(i.a,{store:ne},r.a.createElement(ee,null)),document.querySelector("#root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.2b06a6da.chunk.js.map