{"version":3,"sources":["history.js","components/Menu.js","components/AddressBar.js","data/collectionsList.js","data/collections.js","data/albums.js","data/songs.js","data/artists.js","actions/index.js","config.js","components/Album.js","components/CollectionList.js","components/Buttons.js","components/Song.js","components/PlayList.js","components/UserPlayList.js","components/SearchItem.js","components/Search.js","components/Main.js","components/ControlBar.js","components/App.js","reducers/index.js","index.js"],"names":["createBrowserHistory","Menu","react_default","a","createElement","className","react_router_dom","to","AddressBar","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onChangeSearch","event","setState","value","target","history","push","concat","state","match","params","onClick","goBack","goForward","placeholder","onChange","React","Component","connect","collectionsList","id","title","collectionsID","description","collections","coverImageURL","songs","albums","artistID","albumID","youtubeID","duration","artists","name","selectSong","song","type","payload","selectPlayList","_ref","dispatch","getState","parseInt","find","collection","newSongs","forEach","newSong","artist","album","filter","currentAlbums","addSongs","songPlay","songPause","addSong","removeSong","IMAGE_DOMAIN","Album","_this$props$album","src","renderCoverSrc","CollectionList","selectCollectionsList","selectAlbums","map","collectionList","key","renderCollections","data","components_Album","Fragment","renderCollectionsList","renderAlbums","newCollections","newCollection","Buttons","onPlayClick","currentSong","currentPlayList","currentSongStatus","Song","changeMainStatus","mainStatus","onAddClick","undefined","format","hours","Math","floor","minute","second","String","padStart","renderSelectClass","_this2","renderPlayBtnClass","renderAddBtnClass","renderDuration","PlayList","filterSongs","filterValue","item","toLowerCase","includes","renderSongs","prevProps","url","totalDuration","length","components_Song","renderTotalDuration","components_Buttons","SearchList","renderPlayList","renderTitle","renderArtist","Search","search","searchResult","SearchItem","renderSearchSongs","renderSearchArtists","renderSearchAlbums","renderSearchCollections","searchSongs","searchAlbums","searchArtist","searchCollections","matchAlbums","isInArray","searchAlbum","apply","toConsumableArray","searchAlbumsID","_","matchSongs","searchSong","Main","react_router","path","component","exact","UserPlayList","ControlBar","onYoutubeStart","durationInSeconds","videoRef","current","getDuration","onYoutubeProgress","progress","formatTime","playedSeconds","progressInPercent","played","left","onYoutubeChangeStatus","onForewardClick","playList","currentMainStatus","index","array","onBackwardClick","onSongLineClick","percent","nativeEvent","offsetX","songLineRef","clientWidth","seekTo","onSoundLineClick","songVolume","soundLineRef","onAddBtnClick","createRef","time","getArtist","ReactPlayer_default","ref","playing","volume","currentSongVolume","onStart","onProgress","onEnded","style","width","display","App","components_Menu","components_Main","components_ControlBar","combineReducers","arguments","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","es","components_App","document","querySelector"],"mappings":"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","file":"static/js/main.baa4b2d2.chunk.js","sourcesContent":["import { createBrowserHistory } from 'history';\n\nexport default createBrowserHistory();","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport '../style/Menu.css';\n\nconst Menu = () => {\n    return (\n        <div className=\"menu\">\n            <ul className=\"main\">\n                <li>\n                    <Link to=\"/\">\n                        <i className=\"home icon\"></i>\n                        首頁\n                    </Link>\n                </li>\n            </ul>\n            <ul className=\"lists\">\n                <li className=\"title\">\n                    你的音樂庫\n                </li>\n                <li>\n                    <Link to=\"/userplaylist\">\n                        音樂\n                    </Link>\n                </li>\n            </ul>\n        </div>\n    )\n};\n\nexport default Menu;","import React from 'react';\nimport { connect } from 'react-redux';\nimport history from '../history';\n\nimport '../style/AddressBar.css';\n\nclass AddressBar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { value: '' };\n    }\n\n    componentDidMount() {\n        if ( this.props.match.params.value ){\n            this.setState({value: this.props.match.params.value});\n        }\n    }\n    \n    onChangeSearch = (event) => {\n        this.setState({value: event.target.value});\n        history.push(`/search/${event.target.value}`)\n    }\n\n    render() {\n        return (\n            <div className=\"addressBar\">\n                <div className=\"address\">\n                    <div className=\"back\" onClick={history.goBack}>\n                        <i className=\"angle left icon\"></i>\n                    </div>\n                    <div className=\"forward\" onClick={history.goForward}>\n                        <i className=\"angle right icon\"></i>\n                    </div>\n                </div>\n                <input className=\"search\" placeholder=\"搜尋\" value={this.state.value} onChange={this.onChangeSearch} />\n            </div>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return {};\n}\n\nexport default connect(mapStateToProps, {})(AddressBar);","const collectionsList = [\n    { \n        id: 1,\n        title: '上不上班都要找時間放鬆喔！',\n        collectionsID: [ 1, 2 ]\n    },\n    { \n        id: 2,\n        title: '專為 Shine 精心打造',\n        description: '越常聽，推薦音樂越對味！',\n        collectionsID: [ 3, 4 ]\n    }\n];\n\nexport default collectionsList;","const collections = [\n    { \n        id: 1,\n        title: '愛的回憶',\n        coverImageURL: 'lovesong.jpg',\n        description: '關於愛，無論對過去還會不會動心，它都是人生的烙印，所以回憶總是這樣的無法割捨，所以我們總是不自覺的去回憶。',\n        songs: [ 1, 3, 5 ]\n    },\n    { \n        id: 2,\n        title: '台灣流行樂',\n        coverImageURL: 'popular.jpg',\n        description: '全台最熱門的流行歌曲排行。',\n        songs: [ 2, 4, 6 ]\n    },\n    { \n        id: 3,\n        title: '消除壓力',\n        coverImageURL: 'presure.jpg',\n        description: '想紓解緊張壓力，就聽這些輕鬆、愉快的歌曲來讓自己放輕鬆。',\n        songs: [ 7, 9, 11 ]\n    },\n    { \n        id: 4,\n        title: '上班輕聽',\n        coverImageURL: 'office.jpg',\n        description: '讓好聽的華語流行音樂伴你度過一天的工作時光吧。',\n        songs: [ 8, 10, 12 ]\n    }\n];\n\nexport default collections;","const albums = [\n    {\n        id: 1,\n        title: 'Different World',\n        coverImageURL: 'DifferentWorld.jpg',\n        artistID: 1\n    },\n    {\n        id: 2,\n        title: 'On My Way',\n        coverImageURL: 'OnMyWay.jpg',\n        artistID: 1\n    },\n    {\n        id: 3,\n        title: 'Diamond Heart',\n        coverImageURL: 'DiamondHeart.jpg',\n        artistID: 1\n    },\n    {\n        id: 4,\n        title: 'anti',\n        coverImageURL: 'anti.jpg',\n        artistID: 2\n    },\n    {\n        id: 5,\n        title: 'Faith',\n        coverImageURL: 'Faith.jpg',\n        artistID: 2\n    },\n    {\n        id: 6,\n        title: '自傳',\n        coverImageURL: 'profile.jpg',\n        artistID: 3\n    },\n    {\n        id: 7,\n        title: '後青春期的詩',\n        coverImageURL: 'young.jpg',\n        artistID: 3\n    },\n    {\n        id: 8,\n        title: '離開地球表面',\n        coverImageURL: 'earth.jpg',\n        artistID: 3\n    },\n    {\n        id: 9,\n        title: '為愛而生',\n        coverImageURL: 'love.jpg',\n        artistID: 3\n    }\n];\n\nexport default albums;","const songs = [\n    {\n        id: 1,\n        title: 'Intro',\n        albumID: 1,\n        youtubeID: 'asqelSYtDEA',\n        duration: 76\n    },\n    {\n        id: 2,\n        title: 'Lost Control',\n        albumID: 1,\n        youtubeID: 'RGw8_Xu4z7s',\n        duration: 219\n    },\n    {\n        id: 3,\n        title: \"I Don't Wanna Go\",\n        albumID: 1,\n        youtubeID: 'SuUs3veS0Ck',\n        duration: 161\n    },\n    {\n        id: 4,\n        title: \"On My Way\",\n        albumID: 2,\n        youtubeID: 'dhYOPzcsbGM',\n        duration: 216\n    },\n    {\n        id: 5,\n        title: \"Diamond Heart\",\n        albumID: 3,\n        youtubeID: 'sJXZ9Dok7u8',\n        duration: 218\n    },\n    {\n        id: 7,\n        title: \"Red Swan\",\n        albumID: 4,\n        youtubeID: 'r1XE8ON8fos',\n        duration: 269\n    },\n    {\n        id: 8,\n        title: \"ANOTHER MOMENT\",\n        albumID: 4,\n        youtubeID: 'DMR6xqcm9Nw',\n        duration: 197\n    },\n    {\n        id: 9,\n        title: \"AFTER NIGHT\",\n        albumID: 4,\n        youtubeID: 'pcSjLP0erjQ',\n        duration: 197\n    },\n    {\n        id: 10,\n        title: \"Jesus Christ\",\n        albumID: 5,\n        youtubeID: 'nCh3r4hyEZ4',\n        duration: 256\n    },\n    {\n        id: 11,\n        title: 'Countdown',\n        albumID: 5,\n        youtubeID: 'mVBCjpNzoTA',\n        duration: 246\n    },\n    {\n        id: 12,\n        title: 'Made in Heaven',\n        albumID: 5,\n        youtubeID: '31uB6Wp_2G8',\n        duration: 223\n    },\n    {\n        id: 13,\n        title: '如果我們不曾相遇',\n        albumID: 6,\n        youtubeID: 'eZMH6Mo0f9A',\n        duration: 229\n    },\n    {\n        id: 14,\n        title: '成名在望',\n        albumID: 6,\n        youtubeID: '-hU1O3bG1eo',\n        duration: 318\n    },\n    {\n        id: 15,\n        title: '兄弟',\n        albumID: 6,\n        youtubeID: 'TcXFY-_rDzQ',\n        duration: 343\n    },\n    {\n        id: 16,\n        title: '突然好想你',\n        albumID: 7,\n        youtubeID: 'GtDRcXtDg-4',\n        duration: 286\n    },\n    {\n        id: 17,\n        title: '生存以上 生活以下',\n        albumID: 7,\n        youtubeID: 'yEyPhn7eg_c',\n        duration: 281\n    },\n    {\n        id: 18,\n        title: '你不是真正的快樂',\n        albumID: 7,\n        youtubeID: 'hr8jWDyb1jg',\n        duration: 303\n    },\n    {\n        id: 19,\n        title: '私奔到月球',\n        albumID: 8,\n        youtubeID: 'IFTZtuXKzFs',\n        duration: 222\n    },\n    {\n        id: 20,\n        title: '離開地球表面',\n        albumID: 8,\n        youtubeID: 'd3JVkes8o4k',\n        duration: 291\n    },\n    {\n        id: 21,\n        title: 'To Find My Paradise',\n        albumID: 8,\n        youtubeID: 'XxWFTm4VlRI',\n        duration: 331\n    },\n    {\n        id: 22,\n        title: '前傳',\n        albumID: 9,\n        youtubeID: 'HNPl9nGqcII',\n        duration: 45\n    }\n];\n\nexport default songs;","const artists = [\n    {\n        id: 1,\n        name: 'Alan Walker',\n        coverImageURL: 'AlanWalker.jpg'\n    },\n    {\n        id: 2,\n        name: 'HYDE',\n        coverImageURL: 'HYDE.jpg'\n    },\n    {\n        id: 3,\n        name: '五月天',\n        coverImageURL: 'mayday.jpg'\n    }\n];\n\nexport default artists;","import collectionsList from '../data/collectionsList';\nimport collections from '../data/collections';\nimport albums from '../data/albums';\nimport songs from '../data/songs';\nimport artists from '../data/artists';\n\nimport _ from 'lodash';\n\nexport const selectCollectionsList = () => {\n    collectionsList.forEach((collectionList) => {\n        let newCollections = [];\n        collectionList.collectionsID.forEach((id) => {\n            const newCollection = collections.find((collection) => {\n                return collection.id === id\n            });\n            newCollections.push(newCollection)\n        });\n        collectionList.collections = newCollections;\n    });\n\n    return {\n        type: 'SELECT_COLLECTIONS_LIST',\n        payload: collectionsList\n    };\n};\n\nexport const selectAlbums = () => {\n    return {\n        type: 'SELECT_ALBUMS',\n        payload: albums\n    };\n};\n\nexport const selectSong = (song) => {\n    return {\n        type: 'SELECT_SONG',\n        payload: song\n    };\n};\n\nexport const selectPlayList = ({ type, id }) => (dispatch, getState) => {\n    id = parseInt(id);\n\n    let payload = {};\n    if ( type === 'collection' ) {\n        payload = collections.find((collection) => {\n            return collection.id === id\n        });\n\n        let newSongs = [];\n        payload.songs.forEach((id) => {\n            const newSong = songs.find((song) => {\n                return song.id === id ? song : false\n            });\n            if ( newSong ) {\n                newSongs.push(newSong)\n            }\n        });\n        payload.newSongs = newSongs;\n\n        payload.artist = 'spotify';\n    } else if ( type === 'album' ){\n        payload = albums.find((album) => {\n            return album.id === id\n        });\n\n        payload.newSongs = songs.filter((song) => {\n            return song.albumID === payload.id\n        });\n        payload.artist = artists.find((artist) => {\n            return artist.id === payload.artistID\n        });\n    } else if ( type === 'artist' ){\n        payload = artists.find((artist) => {\n            return artist.id === id\n        });\n        payload.artist = payload;\n\n        payload.title = payload.name;\n\n        const currentAlbums = albums.filter((album) => {\n            return album.artistID === payload.id\n        });\n\n        payload.newSongs = [];\n        currentAlbums.forEach((album) => {\n            songs.forEach((song) => {\n                if ( song.albumID === album.id ) {\n                    payload.songs.push(song);\n                }\n            });\n        });\n    } else {\n        payload.newSongs = getState().addSongs;\n    }\n\n    if ( type !== 'user' ) {\n        payload.newSongs.forEach((song) => {\n            song.album = albums.find((album) => {\n                return album.id === song.albumID\n            });\n            song.artist = artists.find((artist) => {\n                return artist.id === song.album.artistID\n            });\n        });\n    }\n\n    dispatch ({\n        type: 'SELECT_PLAY_LIST',\n        payload: payload\n    });\n};\n\nexport const songPlay = () => {\n    return {\n        type: 'SONG_PLAY'\n    };\n};\n\nexport const songPause = () => {\n    return {\n        type: 'SONG_PAUSE'\n    };\n};\n\nexport const search = (value) => {\n    const searchSongs = songs.filter((song) => {\n        return song.title.toLowerCase().includes(value.toLowerCase())\n    });\n\n    const searchAlbums = albums.filter((album) => {\n        return album.title.toLowerCase().includes(value.toLowerCase())\n    });\n\n    const searchArtist = artists.filter((artist) => {\n        return artist.name.toLowerCase().includes(value.toLowerCase())\n    });\n\n    const searchCollections = collections.filter((collection) => {\n        return collection.title.toLowerCase().includes(value.toLowerCase())\n    });\n\n    searchArtist.forEach((artist) => {\n        const matchAlbums = albums.filter((album) => {\n            const isInArray = searchAlbums.find((searchAlbum) => {\n                return searchAlbum.id === album.id ? true : false;\n            })\n\n            return album.artistID === artist.id && !isInArray\n        });\n        searchAlbums.push(...matchAlbums);\n\n        const searchAlbumsID = _.map(searchAlbums, 'id');\n        const matchSongs = songs.filter((song) => {\n            const isInArray = searchSongs.find((searchSong) => {\n                return searchSong.id === song.id ? true : false;\n            })\n\n            return searchAlbumsID.includes(song.albumID) && !isInArray\n        });\n        searchSongs.push(...matchSongs);\n    });\n\n    searchSongs.forEach((song) => {\n        song.album = albums.find((album) => {\n            return album.id === song.albumID\n        });\n        song.artist = artists.find((artist) => {\n            return artist.id === song.album.artistID\n        });\n    });\n\n    searchAlbums.forEach((album) => {\n        album.artist = artists.find((artist) => {\n            return artist.id === album.artistID\n        });\n    });\n\n    return {\n        type: 'SEARCH',\n        payload: {songs: searchSongs,\n                  albums: searchAlbums,\n                  artists: searchArtist,\n                  collections: searchCollections}\n    };\n};\n\nexport const addSong = (song) => {\n    return {\n        type: 'ADD_SONG',\n        payload: song\n    };\n};\n\nexport const removeSong = (song) => {\n    return {\n        type: 'REMOVE_SONG',\n        payload: song\n    };\n};\n\nexport const songVolume = (value) => {\n    return {\n        type: 'SONG_VOLUME',\n        payload: value\n    };\n};\n\nexport const changeMainStatus = (value) => {\n    return {\n        type: 'CHANGE_MAIN_STATUS',\n        payload: value\n    };\n};","export const IMAGE_DOMAIN = 'https://shinecheng.github.io/demo/react/spotify';","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { IMAGE_DOMAIN } from '../config';\n\nclass Album extends React.Component {\n    renderCoverSrc() {\n        if ( this.props.album.songs ) {\n            return `${IMAGE_DOMAIN}/images/collection/${this.props.album.coverImageURL}`\n        } else {\n            return `${IMAGE_DOMAIN}/images/album/${this.props.album.coverImageURL}`\n        }\n    }\n\n    render() {\n        const { id, title, description } = this.props.album;\n        return (\n            <div className=\"album\">\n                <Link to={`/playList/${this.props.type}/${id}`}>\n                    <img className=\"cover\" src={this.renderCoverSrc()} />\n                </Link>\n                <div className=\"title\">{title}</div>\n                <div className=\"description\">{description}</div>\n            </div>\n        )\n    }\n};\n\nexport default Album;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { selectCollectionsList, selectAlbums } from '../actions';\n\nimport Album from './Album';\n\nimport '../style/CollectionList.css';\n\nclass CollectionList extends React.Component {\n    componentDidMount() {\n        this.props.selectCollectionsList();\n        this.props.selectAlbums();\n    }\n\n    renderCollectionsList() {\n        return this.props.collectionsList.map((collectionList) => {\n            return (\n                <div className=\"collection\" key={collectionList.id}>\n                    <h2>{collectionList.title}</h2>\n                    {this.renderCollections(collectionList.collections)}\n                </div>\n            )\n        })\n    }\n\n    renderCollections(collections) {\n        return collections.map((data) => {\n            return (\n                <Album album={data} type=\"collection\" key={data.id} />\n            )\n        })\n    }\n\n    renderAlbums() {\n        return this.props.albums.map((data) => {\n            return <Album album={data} type=\"album\" key={data.id} />\n        })\n    }\n\n    render() {\n        return (\n            <React.Fragment>\n                <h1>首頁</h1>\n                {this.renderCollectionsList()}\n                <div className=\"collection\">\n                    <h2>專輯</h2>\n                    {this.renderAlbums()}\n                </div>\n            </React.Fragment>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return { collectionsList: state.collectionsList,\n             albums: state.albums };\n};\n\nexport default connect(mapStateToProps, {\n    selectCollectionsList: selectCollectionsList,\n    selectAlbums: selectAlbums\n})(CollectionList);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { selectSong, songPlay, songPause } from '../actions';\n\nimport '../style/Buttons.css';\n\nclass Buttons extends React.Component {\n    onPlayClick = () => {\n        if ( !this.props.currentSong ) {\n            this.props.selectSong(this.props.currentPlayList.newSongs[0]);\n\n            this.props.songPlay();\n        } else {\n            const isInPlayList = this.props.currentPlayList.newSongs.find((song) => {\n                return song.id === this.props.currentSong.id\n            })\n            if ( !isInPlayList ) {\n                this.props.selectSong(this.props.currentPlayList.newSongs[0]);\n                this.props.songPlay();\n            } else {\n                if ( this.props.currentSongStatus === 'play' ) {\n                    this.props.songPause();\n                } else {\n                    this.props.songPlay();\n                }\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"buttons\">\n                <div className=\"play\" onClick={this.onPlayClick}>\n                    { this.props.currentSongStatus === 'play' ? '暫停' : '播放' }\n                </div>\n            </div>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return { currentSongStatus: state.currentSongStatus,\n             currentPlayList: state.currentPlayList,\n             currentSong: state.currentSong };\n}\n\nexport default connect(mapStateToProps, {\n    selectSong: selectSong,\n    songPlay: songPlay,\n    songPause: songPause\n})(Buttons);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { selectSong, changeMainStatus, songPlay, songPause, addSong, removeSong } from '../actions';\n\nclass Song extends React.Component {\n    renderSelectClass() {\n        if ( ( this.props.currentSong != undefined ) &&\n             ( this.props.currentSong.id === this.props.song.id ) ) {\n            return \"select\";\n        } else {\n            return null;\n        }\n    }\n\n    renderDuration() {\n        const format = {};\n\n        format.hours = Math.floor(this.props.song.duration / 60 / 60);\n        format.minute = Math.floor((this.props.song.duration - (format.hours * 60 * 60)) / 60);\n        format.second = Math.floor(this.props.song.duration - (format.minute * 60) - (format.hours * 60 * 60) );\n        return `${format.hours === 0 ? '' : format.hours + ':'} ${format.minute} : ${String(format.second).padStart(2, '0')}`;\n    }\n\n    renderPlayBtnClass() {\n        if ( this.renderSelectClass() === 'select' && this.props.currentSongStatus === 'play' ) {\n            return \"pause\";\n        } else {\n            return \"play\";\n        }\n    }\n\n    renderAddBtnClass() {\n        const inAddSongs = this.props.addSongs.find((song) => {\n            return song.id === this.props.song.id;\n        });\n        if ( inAddSongs ) {\n            return \"check\";\n        } else {\n            return \"plus\";\n        }\n    }\n\n    onPlayClick = () => {\n        if ( this.props.currentSongStatus === 'play' ) {\n            this.props.songPause();\n        } else {\n            this.props.selectSong(this.props.song);\n            this.props.changeMainStatus(this.props.mainStatus);\n            this.props.songPlay();\n        }\n    }\n\n    onAddClick = () => {\n        const inAddSongs = this.props.addSongs.find((song) => {\n            return song.id === this.props.song.id;\n        });\n        if ( inAddSongs ) {\n            this.props.removeSong(this.props.song);\n        } else {\n            this.props.addSong(this.props.song);\n        }\n    }\n\n    render() {\n        return (\n            <li className={this.renderSelectClass()}>\n                <div className=\"playBtn\" onClick={this.onPlayClick}>\n                    <i className=\"volume up icon\"></i>\n                    <i className={`${this.renderPlayBtnClass()} icon`}></i>\n                </div>\n                <div className=\"addBtn\" onClick={this.onAddClick}>\n                    <i className={`${this.renderAddBtnClass()} icon`}></i>\n                </div>\n                <div className=\"title\">{this.props.song.title}</div>\n                <div className=\"artist\">{this.props.song.artist.name}</div>\n                <div className=\"album\">{this.props.song.album.title}</div>\n                <div className=\"duration\">{this.renderDuration()}</div>\n            </li>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return { currentSong: state.currentSong,\n             addSongs: state.addSongs,\n             currentSongStatus: state.currentSongStatus };\n}\n\nexport default connect(mapStateToProps, {\n    selectSong: selectSong,\n    changeMainStatus: changeMainStatus,\n    songPlay: songPlay,\n    songPause: songPause,\n    addSong: addSong,\n    removeSong: removeSong\n})(Song);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { selectPlayList } from '../actions';\n\nimport { IMAGE_DOMAIN } from '../config';\n\nimport Buttons from './Buttons';\nimport Song from './Song';\n\nimport '../style/PlayList.css';\n\nclass PlayList extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { renderSongs: [],\n                       filterValue: '' };\n    }\n\n    componentDidMount() {\n        this.props.selectPlayList({ type: this.props.match.params.type, id: this.props.match.params.id });\n    }\n\n    componentDidUpdate(prevProps) {\n        if ( prevProps.match.url !== this.props.match.url ) {\n            this.props.selectPlayList({ type: this.props.match.params.type, id: this.props.match.params.id });\n        }\n    }\n\n    renderTotalDuration() {\n        let totalDuration = 0;\n        this.props.currentPlayList.newSongs.map(function(item){\n            totalDuration += item.duration;\n        });\n        const format = {};\n\n        format.hours = Math.floor(totalDuration / 60 / 60);\n        format.minute = Math.floor((totalDuration - (format.hours * 60 * 60)) / 60);\n        format.second = Math.floor(totalDuration - (format.minute * 60) - (format.hours * 60 * 60) );\n        return `${format.hours} 時 ${String(format.minute).padStart(2, '0')} 分`;\n    }\n\n    renderSongs() {\n        if ( this.state.renderSongs.length === 0 && !this.state.filterValue ) {\n            return this.props.currentPlayList.newSongs.map((song) => {\n                if ( song ) {\n                    return (\n                        <Song song={song} mainStatus=\"playlist\" key={song.id} />\n                    )\n                }\n            });\n        } else {\n            return this.state.renderSongs.map((song) => {\n                if ( song ) {\n                    return (\n                        <Song song={song} mainStatus=\"playlist\" key={song.id} />\n                    )\n                }\n            });\n        }\n    }\n\n    filterSongs = (event) => {\n        this.setState({ filterValue: event.target.value });\n\n        let newSongs = [];\n        newSongs = this.props.currentPlayList.newSongs;\n        if ( event ) {\n            newSongs = newSongs.filter((item) => {\n                if ( item.title.toLowerCase().includes(event.target.value.toLowerCase()) ) {\n                    return item\n                }\n            });\n        }\n        this.setState({renderSongs: newSongs});\n    }\n\n    render() {\n        if ( this.props.currentPlayList ) {\n            return (\n                <React.Fragment>\n                    <div className=\"header\">\n                        <img className=\"cover\" src={`${IMAGE_DOMAIN}/images/${this.props.match.params.type}/${this.props.currentPlayList.coverImageURL}` } />\n                        <div className=\"info\">\n                            <div className=\"type\">\n                                { this.props.match.params.type === 'collection' ? '播放列表' : '專輯' }\n                            </div>\n                            <div className=\"title\">\n                                {this.props.currentPlayList.title}\n                            </div>\n                            <div className=\"description\">\n                                {this.props.currentPlayList.description}\n                            </div>\n                            <div className=\"info\">\n                                建立者：<span>{this.props.currentPlayList.artist.name}</span>・<span>{this.props.currentPlayList.newSongs.length}</span>首歌曲, \n                                <span>{this.renderTotalDuration()}</span>\n                            </div>\n                            <Buttons />\n                        </div>\n                    </div>\n                    <div className=\"search\">\n                        <i className=\"search icon\"></i>\n                        <input placeholder=\"篩選\" onChange={this.filterSongs} />\n                    </div>\n                    <ul className=\"playlist\">\n                        <li className=\"header\">\n                            <div></div>\n                            <div></div>\n                            <div>標題</div>\n                            <div>藝人</div>\n                            <div>專輯</div>\n                            <div>曲長</div>\n                        </li>\n                        {this.renderSongs()}\n                    </ul>\n                </React.Fragment>\n            )\n        } else {\n            return (\n                <React.Fragment>\n                    Loading...\n                </React.Fragment>\n            )\n        }\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return { currentPlayList: state.currentPlayList,\n             addSongs: state.addSongs };\n}\n\nexport default connect(mapStateToProps, {\n    selectPlayList: selectPlayList\n})(PlayList);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { selectPlayList } from '../actions';\n\nimport Buttons from './Buttons';\nimport Song from './Song';\n\nimport '../style/PlayList.css';\n\nclass PlayList extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { renderSongs: [],\n                       filterValue: '' };\n    }\n\n    componentDidMount() {\n        this.props.selectPlayList({ type: 'user' });\n    }\n\n    componentDidUpdate(prevProps) {\n        if ( prevProps.match.url !== this.props.match.url ) {\n            this.props.selectPlayList({ type: 'user' });\n        }\n    }\n\n    renderTotalDuration() {\n        let totalDuration = 0;\n        this.props.addSongs.map(function(item){\n            totalDuration += item.duration;\n        });\n        const format = {};\n\n        format.hours = Math.floor(totalDuration / 60 / 60);\n        format.minute = Math.floor((totalDuration - (format.hours * 60 * 60)) / 60);\n        format.second = Math.floor(totalDuration - (format.minute * 60) - (format.hours * 60 * 60) );\n        return `${format.hours} 時 ${String(format.minute).padStart(2, '0')} 分`;\n    }\n\n    renderSongs() {\n        if ( this.state.renderSongs.length === 0 && !this.state.filterValue ) {\n            return this.props.addSongs.map((song) => {\n                if ( song ) {\n                    return (\n                        <Song song={song} mainStatus=\"userplaylist\" key={song.id} />\n                    )\n                }\n            });\n        } else {\n            return this.state.renderSongs.map((song) => {\n                if ( song ) {\n                    return (\n                        <Song song={song} mainStatus=\"userplaylist\" key={song.id} />\n                    )\n                }\n            });\n        }\n    }\n\n    filterSongs = (event) => {\n        this.setState({ filterValue: event.target.value });\n\n        let newSongs = [];\n        newSongs = this.props.addSongs.songs;\n        if ( event ) {\n            newSongs = newSongs.filter((item) => {\n                if ( item.title.toLowerCase().includes(event.target.value.toLowerCase()) ) {\n                    return item\n                }\n            });\n        }\n        this.setState({renderSongs: newSongs});\n    }\n\n    render() {\n        if ( this.props.addSongs ) {\n            return (\n                <React.Fragment>\n                    <div className=\"header\">\n                        <div className=\"info\">\n                            <div className=\"title\">歌曲</div>\n                            <Buttons />\n                        </div>\n                    </div>\n                    <div className=\"search\">\n                        <i className=\"search icon\"></i>\n                        <input placeholder=\"篩選\" onChange={this.filterSongs} />\n                    </div>\n                    <ul className=\"playlist\">\n                        <li className=\"header\">\n                            <div></div>\n                            <div></div>\n                            <div>標題</div>\n                            <div>藝人</div>\n                            <div>專輯</div>\n                            <div>曲長</div>\n                        </li>\n                        {this.renderSongs()}\n                    </ul>\n                </React.Fragment>\n            )\n        } else {\n            return (\n                <React.Fragment>\n                    Loading...\n                </React.Fragment>\n            )\n        }\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return { addSongs: state.addSongs };\n}\n\nexport default connect(mapStateToProps, {\n    selectPlayList: selectPlayList\n})(PlayList);","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { IMAGE_DOMAIN } from '../config';\n\nclass SearchList extends React.Component {\n    renderCoverSrc() {\n        switch (this.props.type) {\n            case 'song':\n                return `${IMAGE_DOMAIN}/images/album/${this.props.data.album.coverImageURL}`;\n            case 'artist':\n                return `${IMAGE_DOMAIN}/images/artist/${this.props.data.coverImageURL}`;\n            case 'album':\n                return `${IMAGE_DOMAIN}/images/album/${this.props.data.coverImageURL}`;\n            case 'collection':\n                return `${IMAGE_DOMAIN}/images/collection/${this.props.data.coverImageURL}`;\n        }\n    }\n\n    renderTitle() {\n        switch (this.props.type) {\n            case 'song':\n                return this.props.data.title;\n            case 'artist':\n                return this.props.data.name;\n            case 'album':\n                return this.props.data.title;\n            case 'collection':\n                return this.props.data.title;\n        }\n    }\n\n    renderArtist() {\n        switch (this.props.type) {\n            case 'song':\n                return <div className=\"artist\">{this.props.data.artist.name}</div>\n            case 'album':\n                return <div className=\"artist\">{this.props.data.artist.name}</div>\n        }\n    }\n\n    renderPlayList() {\n        switch (this.props.type) {\n            case 'song':\n                return `album/${this.props.data.album.id}`;\n            case 'artist':\n            case 'album':\n            case 'collection':\n                return `${this.props.type}/${this.props.data.id}`;\n        }\n    }\n\n    render() {\n        return (\n            <Link to={`/playList/${this.renderPlayList()}`}>\n                <div className=\"item\">\n                    <img className=\"cover\" src={this.renderCoverSrc()} />\n                    <div className=\"info\">\n                        <div className=\"title\">{this.renderTitle()}</div>\n                        {this.renderArtist()}\n                    </div>\n                </div>\n            </Link>\n        )\n    }\n};\n\nexport default SearchList;","import React from 'react';\nimport { connect } from 'react-redux';\nimport { search } from '../actions';\n\nimport SearchItem from './SearchItem';\n\nimport '../style/Search.css';\n\nclass Search extends React.Component {\n    componentDidMount() {\n        this.props.search(this.props.match.params.value);\n    }\n\n    componentDidUpdate(prevProps) {\n        if ( prevProps.match.params.value !== this.props.match.params.value ) {\n            this.props.search(this.props.match.params.value);\n        }\n    }\n\n    renderSearchSongs() {\n        if ( this.props.searchResult.songs != undefined && this.props.searchResult.songs.length > 0 ) {\n            const songs = this.props.searchResult.songs.map((song) => {\n                return <SearchItem data={song} type=\"song\" key={`song-${song.id}`} />\n            });\n\n            return (\n                <div className=\"searchCatalog\">\n                    <h2>歌曲</h2>\n                    {songs}\n                </div>\n            )\n        } else {\n            return null\n        }\n    }\n\n    renderSearchArtists() {\n        if ( this.props.searchResult.artists != undefined && this.props.searchResult.artists.length > 0 ) {\n            const artists = this.props.searchResult.artists.map((artist) => {\n                return <SearchItem data={artist} type=\"artist\" key={`artist-${artist.id}`} />\n            });\n\n            return (\n                <div className=\"searchCatalog\">\n                    <h2>藝人</h2>\n                    {artists}\n                </div>\n            )\n        } else {\n            return null\n        }\n    }\n\n    renderSearchAlbums() {\n        if ( this.props.searchResult.albums != undefined && this.props.searchResult.albums.length > 0 ) {\n            const albums = this.props.searchResult.albums.map((album) => {\n                return <SearchItem data={album} type=\"album\" key={`album-${album.id}`} />\n            });\n\n            return (\n                <div className=\"searchCatalog\">\n                    <h2>專輯</h2>\n                    {albums}\n                </div>\n            )\n        } else {\n            return null\n        }\n    }\n\n    renderSearchCollections() {\n        if ( this.props.searchResult.collections != undefined && this.props.searchResult.collections.length > 0 ) {\n            const collections = this.props.searchResult.collections.map((collection) => {\n                return <SearchItem data={collection} type=\"collection\" key={`collection-${collection.id}`} />\n            });\n\n            return (\n                <div className=\"searchCatalog\">\n                    <h2>播放列表</h2>\n                    {collections}\n                </div>\n            )\n        } else {\n            return null\n        }\n    }\n\n    render() {\n        if ( this.props.searchResult ) {\n            return (\n                <div className=\"searchWrap\">\n                    {this.renderSearchSongs()}\n                    {this.renderSearchArtists()}\n                    {this.renderSearchAlbums()}\n                    {this.renderSearchCollections()}\n                </div>\n            )\n        } else {\n            return (\n                <div className=\"searchWrap\">\n                    Loading...\n                </div>\n            )\n        }\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return { searchResult: state.searchResult };\n}\n\nexport default connect(mapStateToProps, {\n    search: search\n})(Search);","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\nimport AddressBar from './AddressBar';\nimport CollectionList from './CollectionList';\nimport PlayList from './PlayList';\nimport UserPlayList from './UserPlayList';\nimport Search from './Search';\n\nimport '../style/Main.css';\n\nconst Main = () => {\n    return (\n        <div className=\"main\">\n            <Switch>\n                <Route path=\"/:type/:value\" component={AddressBar} />\n                <Route path=\"/\" component={AddressBar} />\n            </Switch>\n            <Switch>\n                <Route path=\"/playlist/:type/:id\" exact component={PlayList} />\n                <Route path=\"/userplaylist\" exact component={UserPlayList} />\n                <Route path=\"/search/:value\" exact component={Search} />\n                <Route path=\"/\" component={CollectionList} />\n            </Switch>\n        </div>\n    )\n};\n\nexport default Main;","import React from 'react';\nimport ReactPlayer from 'react-player';\nimport { connect } from 'react-redux';\nimport { selectSong, songPlay, songPause, songVolume, addSong, removeSong } from '../actions';\n\nimport { IMAGE_DOMAIN } from '../config';\n\nimport '../style/ControlBar.css';\n\nclass ControlBar extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { progress: 0,\n                       progressInPercent: 0,\n                       left: 0, \n                       durationInSeconds: 0 };\n        this.videoRef = React.createRef();\n        this.songLineRef = React.createRef();\n        this.soundLineRef = React.createRef();\n    }\n\n    onYoutubeStart = () => {\n        this.setState({ durationInSeconds: this.videoRef.current.getDuration() });\n    }\n \n    onYoutubeProgress = (event) => {\n        this.setState({ progress: this.formatTime(event.playedSeconds),\n                        progressInPercent: event.played,\n                        left: this.formatTime(this.state.durationInSeconds - event.playedSeconds) });\n    } \n\n    onYoutubeChangeStatus = () => {\n        if (this.props.currentSongStatus === 'play') {\n            return <i className=\"pause icon\"></i>\n        }\n        return <i className=\"play icon\"></i>\n    }\n\n    formatTime(time) {\n        const format = {};\n\n        format.hours = Math.floor(time / 60 / 60);\n        format.minute = Math.floor((time - (format.hours * 60 * 60)) / 60);\n        format.second = Math.floor(time - (format.minute * 60) - (format.hours * 60 * 60) );\n\n        return `${format.hours === 0 ? '' : format.hours + ':'}\n                ${format.minute}:\n                ${String(format.second).padStart(2, '0')}`;\n    }\n\n    renderAddBtnClass() {\n        const inAddSongs = this.props.addSongs.find((song) => {\n            return song.id === this.props.currentSong.id;\n        });\n        if ( inAddSongs ) {\n            return \"check\";\n        } else {\n            return \"plus\";\n        }\n    }\n\n    getArtist(album) {\n        const artist = this.props.artists.find((item, index, array) => {\n            return item.id === album.artistID\n        });\n        return artist;\n    }\n\n    getAlbumAndArtist(song) {\n        const album = this.props.albums.find((item, index, array) => {\n            return item.id === song.albumID\n        });\n        return { album: album, artist: this.getArtist(album)};\n    }\n\n    onPlayClick = () => {\n        this.props.currentSongStatus === \"play\" ? this.props.songPause() : this.props.songPlay()\n    }\n\n    onForewardClick = () => {\n        let song = {};\n        const playList = this.props.currentMainStatus === 'playlist' ? this.props.currentPlayList.newSongs : this.props.addSongs;\n        playList.forEach((item, index, array) => {\n            if ( item.id === this.props.currentSong.id ) {\n                if ( index + 1 >= playList.length ) {\n                    song = playList[0];\n                } else {\n                    song = playList[index + 1];\n                }\n            }\n        });\n\n        this.props.selectSong(song);\n    }\n\n    onBackwardClick = () => {\n        let song = {};\n        const playList = this.props.currentMainStatus === 'playlist' ? this.props.currentPlayList.newSongs : this.props.addSongs;\n        playList.forEach((item, index, array) => {\n            if ( item.id === this.props.currentSong.id ) {\n                if ( index - 1 < 0 ) {\n                    song = playList[playList.length - 1];\n                } else {\n                    song = playList[index - 1];\n                }\n            }\n        });\n\n        this.props.selectSong(song);\n    }\n\n    onSongLineClick = (event) => {\n        const percent = event.nativeEvent.offsetX / this.songLineRef.current.clientWidth;\n        this.videoRef.current.seekTo(this.state.durationInSeconds * percent, 'seconds');\n    }\n\n    onSoundLineClick = (event) => {\n        this.props.songVolume(event.nativeEvent.offsetX / this.soundLineRef.current.clientWidth);\n    }\n\n    onAddBtnClick = () => {\n        const inAddSongs = this.props.addSongs.find((song) => {\n            return song.id === this.props.currentSong.id;\n        });\n        if ( inAddSongs ) {\n            this.props.removeSong(this.props.currentSong);\n        } else {\n            this.props.addSong(this.props.currentSong);\n        }\n    }\n\n    render() {\n        if ( !this.props.currentSong ) {\n            return (\n                <div className=\"controlBar\" style={{display: \"none\"}}></div>\n            )\n        } else {\n            return (\n                <div className=\"controlBar\">\n                    <div className=\"left\">\n                        <img className=\"cover\" src={`${IMAGE_DOMAIN}/images/album/${this.props.currentSong.album.coverImageURL}`} />\n                        <div className=\"info\">\n                            <div className=\"title\">{this.props.currentSong.title}</div>\n                            <div className=\"addBtn\" onClick={this.onAddBtnClick}>\n                                <i className={`${this.renderAddBtnClass()} icon`}></i>\n                            </div>\n                            <div className=\"artist\">{this.props.currentSong.artist.name}</div>\n                        </div>\n                    </div>\n                    <div className=\"center\">\n                        <ReactPlayer\n                            ref={this.videoRef}\n                            className=\"youtube\"\n                            url={`https://www.youtube.com/watch?v=${this.props.currentSong.youtubeID}`}\n                            playing={this.props.currentSongStatus === 'play'}\n                            volume={this.props.currentSongVolume}\n                            onStart={this.onYoutubeStart}\n                            onProgress={this.onYoutubeProgress} \n                            onEnded={this.onForewardClick}\n                        />\n                        <div className=\"controls\">\n                            <div className=\"backwardBtn\" onClick={this.onBackwardClick}>\n                                <i className=\"step backward icon\"></i>\n                            </div>\n                            <div className=\"playBtn\" onClick={this.onPlayClick}>\n                                {this.onYoutubeChangeStatus()}\n                            </div>\n                            <div className=\"forewardBtn\" onClick={this.onForewardClick}>\n                                <i className=\"step forward icon\"></i>\n                            </div>\n                        </div>\n                        <div className=\"progress\">\n                            <div className=\"passedTime\">{this.state.progress}</div>\n                            <div className=\"line\" ref={this.songLineRef} onClick={this.onSongLineClick}>\n                                <div style={{width: `${this.state.progressInPercent * 100}%`}}></div>\n                            </div>\n                            <div className=\"leftTime\">{this.state.left}</div>\n                        </div>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"volumeBtn\">\n                            <i className=\"volume up icon\"></i>\n                        </div>\n                        <div className=\"line\" ref={this.soundLineRef} onClick={this.onSoundLineClick}>\n                            <div style={{width: `${this.props.currentSongVolume * 100}%`}}></div>\n                        </div>\n                    </div>\n                </div>\n            )\n        }\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return { currentSong: state.currentSong,\n             currentPlayList: state.currentPlayList,\n             currentSongStatus: state.currentSongStatus,\n             currentSongVolume: state.songVolume,\n             currentMainStatus: state.currentMainStatus,\n             addSongs: state.addSongs }\n}\n\nexport default connect(mapStateToProps, {\n    selectSong: selectSong,\n    songPlay: songPlay,\n    songPause: songPause,\n    songVolume: songVolume,\n    addSong: addSong,\n    removeSong: removeSong\n})(ControlBar);","import React from 'react';\nimport { Router } from 'react-router-dom';\nimport history from '../history';\n\nimport Menu from './Menu';\nimport Main from './Main';\nimport ControlBar from './ControlBar';\n\nconst App = () => {\n    return (\n        <Router history={history}>\n            <Menu />\n            <Main />\n            <ControlBar />\n        </Router>\n    )\n};\n\nexport default App;","import { combineReducers } from 'redux';\nimport _ from 'lodash';\n\nconst selectCollectionsListReducer = (state = [], action) => {\n    if ( action.type === 'SELECT_COLLECTIONS_LIST' ) {\n        return action.payload;\n    }\n\n    return state;\n}\n\nconst selectAlbumsReducer = (state = [], action) => {\n    if ( action.type === 'SELECT_ALBUMS' ) {\n        return action.payload;\n    }\n\n    return state;\n}\n\nconst changeMainStatusReducer = (state = null, action) => {\n    if ( action.type === 'CHANGE_MAIN_STATUS' ) {\n        return action.payload;\n    }\n\n    return state;\n}\n\nconst selectPlayListReducer = (state = null, action) => {\n    if ( action.type === 'SELECT_PLAY_LIST' ) {\n        return action.payload;\n    }\n\n    return state;\n}\n\nconst selectSongReducer = (state = null, action) => {\n    if ( action.type === 'SELECT_SONG' ) {\n        return action.payload;\n    }\n\n    return state;\n}\n\nconst changeSongStatusReducer = (state = 'pause', action) => {\n    switch (action.type) {\n        case 'SONG_PLAY':\n            return 'play';\n        case 'SONG_PAUSE':\n            return 'pause';\n        default:\n            return state;\n    }\n}\n\nconst searchReducer = (state = null, action) => {\n    if ( action.type === 'SEARCH' ) {\n        return action.payload;\n    }\n\n    return state;\n}\n\nconst addSongsReducer = (state = [], action) => {\n    if ( action.type === 'ADD_SONG' ) {\n        const inStateSong = state.find((item) => {\n            return item.id === action.payload.id\n        })\n        if ( inStateSong ) {\n            return state;\n        } else {\n            return [...state, action.payload];\n        }\n    } else if  ( action.type === 'REMOVE_SONG' ) {\n        return state.filter((item) => {\n            return item.id != action.payload.id\n        })\n    } else {\n        return state;\n    }\n}\n\nconst songVolumeReducer = (state = 0.5, action) => {\n    if ( action.type === 'SONG_VOLUME' ) {\n        return action.payload;\n    }\n\n    return state;\n}\n\nexport default combineReducers({\n    collectionsList: selectCollectionsListReducer,\n    albums: selectAlbumsReducer,\n    currentSong: selectSongReducer,\n    currentMainStatus: changeMainStatusReducer,\n    currentPlayList: selectPlayListReducer,\n    currentSongStatus: changeSongStatusReducer,\n    searchResult: searchReducer,\n    addSongs: addSongsReducer,\n    songVolume: songVolumeReducer\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst store = createStore(\n    reducers,\n    applyMiddleware(reduxThunk)\n);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.querySelector('#root')\n);"],"sourceRoot":""}